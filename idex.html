<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SmartCook</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>SmartCook</h1>
        <nav>
            <button onclick="navigate('home')">Home</button>
            <button onclick="navigate('about')">About Us</button>
            <button onclick="navigate('support')">Support</button>
        </nav>
    </header>

    <main>
        <div id="filter-sort-section">
            <div id="filter-section">
                <label for="filter">Filtr:</label>
                <input type="text" id="filter" oninput="filterRecipes()">
            </div>

            <div id="sort-section">
                <label for="sort">Sort By:</label>
                <select id="sort" onchange="sortRecipes()">
                    <option value="name">Name</option>
                    <option value="difficulty-asc">Difficulty (Vzestupně)</option>
                    <option value="difficulty-desc">Difficulty (Sestupně)</option>
                </select>
            </div>

            <div id="type-filter-section">
                <label for="mainCourseCheckbox">main course</label>
                <input type="checkbox" id="mainCourseCheckbox" onclick="filterRecipes()">
                <label for="dessertCheckbox">dessert</label>
                <input type="checkbox" id="dessertCheckbox" onclick="filterRecipes()">
                <label for="soupCheckbox">soup</label>
                <input type="checkbox" id="soupCheckbox" onclick="filterRecipes()">
                <label for="appetizerCheckbox">breakfast</label>
                <input type="checkbox" id="breakfastCheckbox" onclick="filterRecipes()">
            </div>

            <div id="price-filter-section">
                <label for="cheapCheckbox">cheap</label>
                <input type="checkbox" id="cheapCheckbox" onclick="filterRecipes()">
                <label for="mediumCheckbox">medium</label>
                <input type="checkbox" id="mediumCheckbox" onclick="filterRecipes()">
                <label for="expensiveCheckbox">expensive</label>
                <input type="checkbox" id="expensiveCheckbox" onclick="filterRecipes()">
            </div>
        </div>

        <div id="recipes-section">
            <!-- Recepty budou zobrazeny zde -->
        </div>
    </main>

    <script>
        const recipes = [
            { name: 'Těstoviny s rajčatovou omáčkou', difficulty: 'simple', type: 'main course', price: 'medium' },
            { name: 'Pečené kuře se zeleninou', difficulty: 'medium', type: 'main course', price: 'expensive' },
            { name: 'Čokoládový dort', difficulty: 'difficult', type: 'dessert', price: 'expensive' },
            { name: 'Kuřecí salát s ořechy', difficulty: 'simple', type: 'main course', price: 'cheap' },
            { name: 'Rybí polévka', difficulty: 'medium', type: 'soup', price: 'medium' },
            { name: 'Tiramisu', difficulty: 'difficult', type: 'dessert', price: 'expensive' },
            { name: 'Smažený sýr', difficulty: 'simple', type: 'breakfast', price: 'cheap' },
            { name: 'Hovězí guláš', difficulty: 'medium', type: 'main course', price: 'medium' },
            { name: 'Jablečný závin', difficulty: 'difficult', type: 'dessert', price: 'medium' },
            { name: 'Kuřecí kari', difficulty: 'medium', type: 'main course', price: 'cheap' },
        ];

        function init() {
            const sortedRecipes = [...recipes].sort((a, b) => a.name.localeCompare(b.name));
            displayRecipes(sortedRecipes);
        }

        function displayRecipes(recipesToShow) {
            const recipesContainer = document.getElementById('recipes-section');
            recipesContainer.innerHTML = '';

            let rowDiv;
            recipesToShow.forEach((recipe, index) => {
                if (index % 2 === 0) {
                    rowDiv = document.createElement('div');
                    rowDiv.classList.add('row');
                    recipesContainer.appendChild(rowDiv);
                }

                const recipeElement = document.createElement('div');
                recipeElement.classList.add('recipe');
                recipeElement.innerHTML = `<strong>${recipe.name}</strong> - Obtížnost: ${getDifficultyLabel(recipe.difficulty)} - Typ: ${recipe.type} - Cena: ${getPriceLabel(recipe.price)}`;
                recipeElement.addEventListener('click', () => handleRecipeClick(recipe.name));
                rowDiv.appendChild(recipeElement);
            });
        }

        function filterRecipes() {
            const filterValue = document.getElementById('filter').value.toLowerCase();
            const mainCourseChecked = document.getElementById('mainCourseCheckbox').checked;
            const dessertChecked = document.getElementById('dessertCheckbox').checked;
            const soupChecked = document.getElementById('soupCheckbox').checked;
            const breakfastChecked = document.getElementById('breakfastCheckbox').checked;

            const filteredRecipes = recipes.filter(recipe => {
                const nameMatches = recipe.name.toLowerCase().includes(filterValue);
                const typeMatches = (
                    (mainCourseChecked && recipe.type === 'main course') ||
                    (dessertChecked && recipe.type === 'dessert') ||
                    (soupChecked && recipe.type === 'soup') ||
                    (breakfastChecked && recipe.type === 'breakfast')
                );

                return nameMatches && (typeMatches || (!mainCourseChecked && !dessertChecked && !soupChecked && !breakfastChecked));
            });

            displayRecipes(filteredRecipes);
        }

        function sortRecipes() {
            const sortBy = document.getElementById('sort').value;
            let sortedRecipes;

            switch (sortBy) {
                case 'name':
                    sortedRecipes = [...recipes].sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'difficulty-asc':
                    sortedRecipes = [...recipes].sort((a, b) => customDifficultyOrder(a.difficulty, b.difficulty));
                    break;
                case 'difficulty-desc':
                    sortedRecipes = [...recipes].sort((a, b) => customDifficultyOrder(b.difficulty, a.difficulty));
                    break;
                default:
                    sortedRecipes = recipes;
            }

            displayRecipes(sortedRecipes);
        }

        function customDifficultyOrder(difficultyA, difficultyB) {
            const order = { 'simple': 1, 'medium': 2, 'difficult': 3 };
            return order[difficultyA] - order[difficultyB];
        }

        function getDifficultyLabel(difficulty) {
            switch (difficulty) {
                case 'simple':
                    return 'simple';
                case 'medium':
                    return 'medium';
                case 'difficult':
                    return 'difficult';
                default:
                    return difficulty;
            }
        }

        function getPriceLabel(price) {
            switch (price) {
                case 'cheap':
                    return 'cheap';
                case 'medium':
                    return 'medium';
                case 'expensive':
                    return 'expensive';
                default:
                    return price;
            }
        }

        function navigate(page) {
            alert(`Navigating to ${page} page`);
        }

        function handleRecipeClick(recipeName) {
            alert(`Clicked on recipe: ${recipeName}`);
        }

        window.onload = init;
    </script>
</body>
</html>